<UserControl x:Class="HospitalApp.WPF.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:HospitalApp.WPF.Views"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="800">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="16">
            <!-- Welcome Message -->
            <TextBlock Text="{Binding WelcomeMessage}" 
                       Style="{StaticResource Heading1Style}" 
                       Margin="0,0,0,24"/>

            <!-- Quick Actions -->
            <TextBlock Text="Quick Actions" 
                       Style="{StaticResource Heading3Style}" 
                       Margin="0,0,0,16"/>
            
            <Grid Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- New Patient -->
                <Button Grid.Column="0" 
                        Command="{Binding QuickActionCommand}" 
                        CommandParameter="NewPatient" 
                        Margin="8">
                    <StackPanel>
                        <Border Width="48" 
                                Height="48" 
                                Background="{StaticResource PrimaryLightBrush}" 
                                CornerRadius="24" 
                                Margin="0,0,0,8">
                            <TextBlock Text="+" 
                                       FontSize="24" 
                                       Foreground="{StaticResource TextOnPrimaryBrush}" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="New Patient" 
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <!-- New Appointment -->
                <Button Grid.Column="1" 
                        Command="{Binding QuickActionCommand}" 
                        CommandParameter="NewAppointment" 
                        Margin="8">
                    <StackPanel>
                        <Border Width="48" 
                                Height="48" 
                                Background="{StaticResource SecondaryLightBrush}" 
                                CornerRadius="24" 
                                Margin="0,0,0,8">
                            <TextBlock Text="📅" 
                                       FontSize="20" 
                                       Foreground="{StaticResource TextOnSecondaryBrush}" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="New Appointment" 
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <!-- Search Patient -->
                <Button Grid.Column="2" 
                        Command="{Binding QuickActionCommand}" 
                        CommandParameter="SearchPatient" 
                        Margin="8">
                    <StackPanel>
                        <Border Width="48" 
                                Height="48" 
                                Background="{StaticResource AccentLightBrush}" 
                                CornerRadius="24" 
                                Margin="0,0,0,8">
                            <TextBlock Text="🔍" 
                                       FontSize="20" 
                                       Foreground="{StaticResource TextOnPrimaryBrush}" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="Search Patient" 
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
                
                <!-- Reports -->
                <Button Grid.Column="3" 
                        Command="{Binding QuickActionCommand}" 
                        CommandParameter="Reports" 
                        Margin="8">
                    <StackPanel>
                        <Border Width="48" 
                                Height="48" 
                                Background="{StaticResource PrimaryDarkBrush}" 
                                CornerRadius="24" 
                                Margin="0,0,0,8">
                            <TextBlock Text="📊" 
                                       FontSize="20" 
                                       Foreground="{StaticResource TextOnPrimaryBrush}" 
                                       HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"/>
                        </Border>
                        <TextBlock Text="Reports" 
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

            <!-- Statistics Overview -->
            <TextBlock Text="Hospital Overview" 
                       Style="{StaticResource Heading3Style}" 
                       Margin="0,0,0,16"/>
            
            <Grid Margin="0,0,0,32">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Total Patients -->
                <Border Grid.Column="0" 
                        Background="{StaticResource SurfaceBrush}" 
                        CornerRadius="8" 
                        Margin="8" 
                        Padding="16" 
                        BorderBrush="{StaticResource PrimaryLightBrush}" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Total Patients" 
                                   Style="{StaticResource CaptionStyle}"/>
                        <TextBlock Text="{Binding TotalPatients}" 
                                   Style="{StaticResource Heading2Style}" 
                                   Foreground="{StaticResource PrimaryBrush}"/>
                    </StackPanel>
                </Border>
                
                <!-- Today's Appointments -->
                <Border Grid.Column="1" 
                        Background="{StaticResource SurfaceBrush}" 
                        CornerRadius="8" 
                        Margin="8" 
                        Padding="16" 
                        BorderBrush="{StaticResource SecondaryLightBrush}" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Today's Appointments" 
                                   Style="{StaticResource CaptionStyle}"/>
                        <TextBlock Text="{Binding TodayAppointments}" 
                                   Style="{StaticResource Heading2Style}" 
                                   Foreground="{StaticResource SecondaryBrush}"/>
                    </StackPanel>
                </Border>
                
                <!-- Admitted Patients -->
                <Border Grid.Column="2" 
                        Background="{StaticResource SurfaceBrush}" 
                        CornerRadius="8" 
                        Margin="8" 
                        Padding="16" 
                        BorderBrush="{StaticResource AccentLightBrush}" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Admitted Patients" 
                                   Style="{StaticResource CaptionStyle}"/>
                        <TextBlock Text="{Binding AdmittedPatients}" 
                                   Style="{StaticResource Heading2Style}" 
                                   Foreground="{StaticResource AccentBrush}"/>
                    </StackPanel>
                </Border>
                
                <!-- Available Doctors -->
                <Border Grid.Column="3" 
                        Background="{StaticResource SurfaceBrush}" 
                        CornerRadius="8" 
                        Margin="8" 
                        Padding="16" 
                        BorderBrush="{StaticResource PrimaryDarkBrush}" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Available Doctors" 
                                   Style="{StaticResource CaptionStyle}"/>
                        <TextBlock Text="{Binding AvailableDoctors}" 
                                   Style="{StaticResource Heading2Style}" 
                                   Foreground="{StaticResource PrimaryDarkBrush}"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Today's Appointments -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Appointments List -->
                <Border Grid.Column="0" 
                        Background="{StaticResource SurfaceBrush}" 
                        CornerRadius="8" 
                        Margin="8" 
                        Padding="16" 
                        BorderBrush="{StaticResource TextDisabledBrush}" 
                        BorderThickness="1">
                    <StackPanel>
                        <Grid Margin="0,0,0,16">
                            <TextBlock Text="Today's Appointments" 
                                       Style="{StaticResource Heading4Style}"/>
                            <Button Content="View All" 
                                    Command="{Binding ViewAllAppointmentsCommand}" 
                                    Style="{StaticResource TextButtonStyle}" 
                                    HorizontalAlignment="Right"/>
                        </Grid>
                        
                        <ListView ItemsSource="{Binding TodayAppointmentsList}" 
                                  BorderThickness="0" 
                                  Background="Transparent" 
                                  MaxHeight="300">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="8" 
                                            Margin="0,4" 
                                            BorderBrush="{StaticResource TextDisabledBrush}" 
                                            BorderThickness="0,0,0,1">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <TextBlock Grid.Column="0" 
                                                       Text="{Binding Time}" 
                                                       FontWeight="SemiBold" 
                                                       Margin="0,0,16,0"/>
                                            
                                            <StackPanel Grid.Column="1">
                                                <TextBlock Text="{Binding PatientName}" 
                                                           FontWeight="SemiBold"/>
                                                <TextBlock Text="{Binding Purpose}" 
                                                           Style="{StaticResource CaptionStyle}"/>
                                            </StackPanel>
                                            
                                            <TextBlock Grid.Column="2" 
                                                       Text="{Binding Status}" 
                                                       Foreground="{Binding StatusColor}"/>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackPanel>
                </Border>
                
                <!-- Recent Activities -->
                <Border Grid.Column="1" 
                        Background="{StaticResource SurfaceBrush}" 
                        CornerRadius="8" 
                        Margin="8" 
                        Padding="16" 
                        BorderBrush="{StaticResource TextDisabledBrush}" 
                        BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="Recent Activities" 
                                   Style="{StaticResource Heading4Style}" 
                                   Margin="0,0,0,16"/>
                        
                        <ListView ItemsSource="{Binding RecentActivities}" 
                                  BorderThickness="0" 
                                  Background="Transparent" 
                                  MaxHeight="300">
                            <ListView.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="8" 
                                            Margin="0,4" 
                                            BorderBrush="{StaticResource TextDisabledBrush}" 
                                            BorderThickness="0,0,0,1">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Description}" 
                                                       TextWrapping="Wrap"/>
                                            <TextBlock Text="{Binding Time}" 
                                                       Style="{StaticResource CaptionStyle}"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ListView.ItemTemplate>
                        </ListView>
                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>
